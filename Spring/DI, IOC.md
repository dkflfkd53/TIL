# DI, IOC

**(전체적인 흐름)**

<aside>
🌊 코드 실행시 스프링이 class를 돌며 `@Component`이 있는 class들의 객체를 싱글톤 타입으로 생성해서 IOC 컨테이너에 저장해준다. 그리고 이러한 객체(빈)들을 class들에 주입해 줌으로써 의존성을 주입해 준다.

</aside>

### DI(의존성 주입)

 의존간계를 외부에서 결정하고 의존성을 주입해주는 것을 말한다.

### IOC(제어의 역전)

 객체를 생성하거나 메소드를 호출하는등 객체의 생명주기에 대한 제어권을 개발자에서  외부(스프링)에 위임하는 것을 말한다.
(수정: class내부에서 외부로)

**(의존성을 주입받는 방법들)**

<aside>
1️⃣ 생성자를 통한 주입

---

 의존성을 주입받고 싶은 클래스의 필드를 선언해주고, 필드값을 생성자를 통해서 초기화 함으로써 의존성을 주입받는 방법이다. 

- 생성자 위에 `@Autrowired`를 적어줌으로써 명확하게 의존성 주입을 받는다고 표시해준다.(생략가능)
- 필드를 선언할때 사전에 개발자의 실수를 방지하기 위해서 필드를 final키워드로 선언해준다.(생성자를 통해서 의존성주입을 많이 받는 이유)
- final 키워드의 필드를 초기화하기 위해서 `@RequiredArgsConstructor`를 사용하여 생성자를 를 생성하여 의존성을 주입받기도 한다.
</aside>

<aside>
2️⃣ 필드를 이용한 주입

---

 필드에 `@Autowired` 어노테이션만 붙여줌으로써 의존성을 주입받는 방법이다. 사용법이 매우 간단하기 때문에 가장 많이 접할 수 있는 방법이다.

- 코드가 간결하지만, 외부에서 변경하기 힘들다.
- 프레임워크에 의존적이고 객체지향적으로 좋지 않다.
</aside>

<aside>
3️⃣ Setter를 이용한 주입

---

Setter 메소드에 `@Autowired` 어노테이션을 붙임으로써 의존성을 주입받는 방법이다.

- Setter를 통해서 의존성을 주입 받으면, set메서드를 public으로 열어두어야 하기 때문에 언제 어디서든 변경이 가능하다.
</aside>

예시 코드)

```java
@RequiredArgsConstructor
public class BoardController {

    private final BoardService boardService;
```
